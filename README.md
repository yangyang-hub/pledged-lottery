# ğŸ² Pledged Lottery - è´¨æŠ¼å½©ç¥¨ç³»ç»Ÿ

ä¸€ä¸ªåŸºäºä»¥å¤ªåŠçš„å»ä¸­å¿ƒåŒ–NFTå½©ç¥¨ç³»ç»Ÿï¼Œé‡‡ç”¨åˆ®åˆ®ä¹æœºåˆ¶ï¼Œæ”¯æŒå…¬å¹³é€æ˜çš„å½©ç¥¨æ¸¸æˆä½“éªŒã€‚

## âœ¨ ç‰¹æ€§

- ğŸŸï¸ **NFTå½©ç¥¨ç³»ç»Ÿ**: æ¯å¼ å½©ç¥¨éƒ½æ˜¯ä¸€ä¸ªç‹¬ç‰¹çš„NFTï¼Œå¯æ”¶è—å’Œè½¬è®©
- ğŸª™ **åˆ®åˆ®ä¹æœºåˆ¶**: æ‰‹åŠ¨å¼€å¥–ï¼Œå¢åŠ æ¸¸æˆä¹è¶£å’Œäº’åŠ¨æ€§
- ğŸ¯ **50%ç»¼åˆä¸­å¥–ç‡**: å››çº§å¥–åŠ±ä½“ç³»ï¼Œé«˜ä¸­å¥–æ¦‚ç‡
- â° **7å¤©å‘¨æœŸåˆ¶**: æ¯ä¸ªå½©ç¥¨å‘¨æœŸæŒç»­7å¤©ï¼Œè‡ªåŠ¨è½®æ¢
- ğŸ’° **é›¶å¹³å°è´¹ç”¨**: 100%é”€å”®æ”¶å…¥ç”¨ä½œå¥–é‡‘æ± 
- ğŸ”’ **å…¬å¹³é€æ˜**: åŸºäºåŒºå—é“¾çš„éšæœºæ•°ç”Ÿæˆï¼Œç¡®ä¿å…¬å¹³æ€§
- ğŸ“± **ç°ä»£åŒ–ç•Œé¢**: å“åº”å¼Web3å‰ç«¯ï¼Œæ”¯æŒå¤šç§é’±åŒ…è¿æ¥

## ğŸ† å¥–åŠ±ä½“ç³»

| å¥–é¡¹ç­‰çº§ | ä¸­å¥–æ¦‚ç‡ | å¥–é‡‘æ¯”ä¾‹ | æè¿° |
|---------|----------|----------|------|
| ç‰¹ç­‰å¥– | 0.25% | 40% | å¥–é‡‘æ± çš„40% |
| å¤§å¥– | 2.5% | 30% | å¥–é‡‘æ± çš„30% |
| ä¸­å¥– | 7.5% | 20% | å¥–é‡‘æ± çš„20% |
| å°å¥– | 15% | 10% | å¥–é‡‘æ± çš„10% |
| æœªä¸­å¥– | 75% | 0% | æ— å¥–é‡‘ |

**ç»¼åˆä¸­å¥–ç‡**: 25% (0.25% + 2.5% + 7.5% + 15%)

## ğŸ›  æŠ€æœ¯æ ˆ

- **åŒºå—é“¾**: Ethereum, Solidity ^0.8.0
- **æ™ºèƒ½åˆçº¦æ¡†æ¶**: Foundry
- **å‰ç«¯**: Next.js 14, TypeScript, TailwindCSS
- **Web3åº“**: Wagmi, Viem, RainbowKit
- **NFTæ ‡å‡†**: ERC-721, ERC-721Enumerable
- **å®‰å…¨æ€§**: OpenZeppelinåˆçº¦åº“

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿å®‰è£…ä»¥ä¸‹å·¥å…·ï¼š

- [Node.js (>= v20.18.3)](https://nodejs.org/en/download/)
- [Yarn](https://classic.yarnpkg.com/en/docs/install/)
- [Git](https://git-scm.com/downloads)

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†é¡¹ç›®

```bash
git clone <your-repo-url>
cd pledged-lottery
```

### 2. å®‰è£…ä¾èµ–

```bash
yarn install
```

### 3. å¯åŠ¨æœ¬åœ°åŒºå—é“¾ç½‘ç»œ

```bash
yarn chain
```

æ­¤å‘½ä»¤ä¼šä½¿ç”¨Foundryå¯åŠ¨æœ¬åœ°ä»¥å¤ªåŠç½‘ç»œï¼Œç”¨äºå¼€å‘å’Œæµ‹è¯•ã€‚

### 4. éƒ¨ç½²æ™ºèƒ½åˆçº¦

```bash
yarn deploy
```

è¿™ä¼šå°†æ™ºèƒ½åˆçº¦éƒ¨ç½²åˆ°æœ¬åœ°ç½‘ç»œä¸Šã€‚åˆçº¦ä»£ç ä½äº `packages/foundry/contracts` ç›®å½•ã€‚

### 5. å¯åŠ¨å‰ç«¯åº”ç”¨

```bash
yarn start
```

è®¿é—® `http://localhost:3000` æŸ¥çœ‹åº”ç”¨ç•Œé¢ã€‚

### 6. è¿è¡Œæµ‹è¯•

```bash
yarn foundry:test
```

## ğŸ— é¡¹ç›®ç»“æ„

```
pledged-lottery/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ foundry/              # æ™ºèƒ½åˆçº¦å’ŒåŒºå—é“¾ç›¸å…³
â”‚   â”‚   â”œâ”€â”€ contracts/        # Solidityæ™ºèƒ½åˆçº¦
â”‚   â”‚   â”‚   â”œâ”€â”€ PledgedLottery.sol    # ä¸»å½©ç¥¨åˆçº¦
â”‚   â”‚   â”‚   â””â”€â”€ LotteryToken.sol      # NFTå½©ç¥¨åˆçº¦
â”‚   â”‚   â”œâ”€â”€ script/           # éƒ¨ç½²è„šæœ¬
â”‚   â”‚   â”œâ”€â”€ test/             # åˆçº¦æµ‹è¯•
â”‚   â”‚   â””â”€â”€ deployments/      # éƒ¨ç½²é…ç½®
â”‚   â””â”€â”€ nextjs/               # å‰ç«¯åº”ç”¨
â”‚       â”œâ”€â”€ app/              # Next.jsé¡µé¢
â”‚       â”œâ”€â”€ components/       # Reactç»„ä»¶
â”‚       â”‚   â””â”€â”€ pledged-lottery/  # å½©ç¥¨ç›¸å…³ç»„ä»¶
â”‚       â”œâ”€â”€ hooks/            # è‡ªå®šä¹‰hooks
â”‚       â””â”€â”€ utils/            # å·¥å…·å‡½æ•°
â”œâ”€â”€ README.md
â””â”€â”€ package.json
```

## ğŸ’¡ å¦‚ä½•ä½¿ç”¨

### å¯¹äºç”¨æˆ·

1. **è¿æ¥é’±åŒ…**: åœ¨ç½‘é¡µä¸Šè¿æ¥ä½ çš„ä»¥å¤ªåŠé’±åŒ…
2. **è´­ä¹°å½©ç¥¨**: æ”¯ä»˜0.01 ETHè´­ä¹°NFTå½©ç¥¨
3. **åˆ®å¼€å½©ç¥¨**: ç‚¹å‡»"åˆ®å¼€"æŒ‰é’®æŸ¥çœ‹ä¸­å¥–ç»“æœ
4. **é¢†å–å¥–é‡‘**: å¦‚æœä¸­å¥–ï¼Œç‚¹å‡»"é¢†å–å¥–é‡‘"è·å¾—ETHå¥–åŠ±

### å¯¹äºç®¡ç†å‘˜

1. **ç»“æŸå‘¨æœŸ**: 7å¤©å‘¨æœŸç»“æŸåï¼Œæ‰‹åŠ¨è§¦å‘æ–°å‘¨æœŸå¼€å§‹
2. **æš‚åœç³»ç»Ÿ**: ç´§æ€¥æƒ…å†µä¸‹å¯æš‚åœåˆçº¦
3. **ç›‘æ§æ•°æ®**: æŸ¥çœ‹ç³»ç»Ÿç»Ÿè®¡å’Œå‘¨æœŸä¿¡æ¯

## ğŸ” å®‰å…¨ç‰¹æ€§

- **é‡å…¥æ”»å‡»ä¿æŠ¤**: ä½¿ç”¨OpenZeppelinçš„ReentrancyGuard
- **æƒé™æ§åˆ¶**: å…³é”®åŠŸèƒ½ä»…é™ç®¡ç†å‘˜æ“ä½œ
- **æš‚åœæœºåˆ¶**: ç´§æ€¥æƒ…å†µä¸‹å¯æš‚åœç³»ç»Ÿ
- **éšæœºæ€§**: åŸºäºåŒºå—é“¾æ•°æ®ç”Ÿæˆéšæœºç§å­
- **èµ„é‡‘å®‰å…¨**: æ™ºèƒ½åˆçº¦è‡ªåŠ¨ç®¡ç†å¥–é‡‘åˆ†å‘

## ğŸ§ª æµ‹è¯•

è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶ï¼š

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
yarn test

# è¿è¡Œæ™ºèƒ½åˆçº¦æµ‹è¯•
yarn foundry:test

# ä»£ç æ ¼å¼åŒ–
yarn format

# ä»£ç æ£€æŸ¥
yarn lint
```

## ğŸ“Š åˆçº¦åœ°å€

éƒ¨ç½²åçš„åˆçº¦åœ°å€ä¼šæ˜¾ç¤ºåœ¨éƒ¨ç½²è¾“å‡ºä¸­ï¼ŒåŒæ—¶ä¿å­˜åœ¨ `packages/foundry/deployments/` ç›®å½•ã€‚

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Forkæœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäºMITè®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## âš ï¸ å…è´£å£°æ˜

æœ¬é¡¹ç›®ä»…ç”¨äºæ•™è‚²å’Œæ¼”ç¤ºç›®çš„ã€‚è¯·åœ¨ä½¿ç”¨å‰å……åˆ†ç†è§£æ™ºèƒ½åˆçº¦çš„é£é™©ï¼Œå¹¶éµå®ˆå½“åœ°æ³•å¾‹æ³•è§„ã€‚ä½œè€…ä¸å¯¹ä»»ä½•èµ„é‡‘æŸå¤±è´Ÿè´£ã€‚

## ğŸ“ è”ç³»æˆ‘ä»¬

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- åˆ›å»º [Issue](https://github.com/your-repo/issues)
- å‘èµ· [Discussion](https://github.com/your-repo/discussions)

---

ğŸ² **Pledged Lottery** - è®©å½©ç¥¨æ¸¸æˆæ›´å…¬å¹³ã€æ›´é€æ˜ã€æ›´æœ‰è¶£ï¼