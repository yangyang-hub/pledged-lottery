@import "tailwindcss";

@custom-variant dark (&:where([data-theme=dark], [data-theme=dark] *));

@custom-variant dark (&:where([data-theme=dark], [data-theme=dark] *));

@theme {
  --shadow-center: 0 0 12px -2px rgb(0 0 0 / 0.05);
  --animate-pulse-fast: pulse 1s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@plugin "daisyui" {
  themes:
    light,
    dark --prefersdark;
}

@plugin "daisyui/theme" {
  name: "light";

  --color-primary: #93bbfb;
  --color-primary-content: #212638;
  --color-secondary: #dae8ff;
  --color-secondary-content: #212638;
  --color-accent: #93bbfb;
  --color-accent-content: #212638;
  --color-neutral: #212638;
  --color-neutral-content: #ffffff;
  --color-base-100: #ffffff;
  --color-base-200: #f4f8ff;
  --color-base-300: #dae8ff;
  --color-base-content: #212638;
  --color-info: #93bbfb;
  --color-success: #34eeb6;
  --color-warning: #ffcf72;
  --color-error: #ff8863;

  --radius-field: 9999rem;
  --radius-box: 1rem;
  --tt-tailw: 6px;
}

@plugin "daisyui/theme" {
  name: "dark";

  --color-primary: #212638;
  --color-primary-content: #f9fbff;
  --color-secondary: #323f61;
  --color-secondary-content: #f9fbff;
  --color-accent: #4969a6;
  --color-accent-content: #f9fbff;
  --color-neutral: #f9fbff;
  --color-neutral-content: #385183;
  --color-base-100: #385183;
  --color-base-200: #2a3655;
  --color-base-300: #212638;
  --color-base-content: #f9fbff;
  --color-info: #385183;
  --color-success: #34eeb6;
  --color-warning: #ffcf72;
  --color-error: #ff8863;

  --radius-field: 9999rem;
  --radius-box: 1rem;

  --tt-tailw: 6px;
  --tt-bg: var(--color-primary);
}

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentColor);
  }

  p {
    margin: 1rem 0;
  }

  body {
    min-height: 100vh;
  }

  h1,
  h2,
  h3,
  h4 {
    margin-bottom: 0.5rem;
    line-height: 1;
  }
}

:root,
[data-theme] {
  background: var(--color-base-200);
}

.btn {
  @apply shadow-md;
}

.btn.btn-ghost {
  @apply shadow-none;
}

.link {
  text-underline-offset: 2px;
}

.link:hover {
  opacity: 80%;
}

/* 彻底修复按钮点击后闪动问题 - 简化版无loading */
@layer components {
  /* 强制覆盖所有按钮样式，禁用一切可能导致闪动的效果 */
  .btn,
  .btn:hover,
  .btn:focus,
  .btn:focus-visible,
  .btn:active,
  .btn.focus,
  .btn.active {
    outline: none !important;
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06) !important;
    transform: none !important;
    transition: background-color 0.15s ease, border-color 0.15s ease, color 0.15s ease, opacity 0.15s ease !important;
    -webkit-tap-highlight-color: transparent !important;
    -webkit-touch-callout: none !important;
    -webkit-user-select: none !important;
    -moz-user-select: none !important;
    -ms-user-select: none !important;
    user-select: none !important;
    animation: none !important;
  }

  /* 确保disabled状态稳定 */
  .btn:disabled,
  .btn.disabled {
    transform: none !important;
    pointer-events: none !important;
    animation: none !important;
    opacity: 0.6 !important;
  }

  /* 完全禁用按钮的伪元素动画 */
  .btn::before,
  .btn::after {
    animation: none !important;
    transition: none !important;
    display: none !important;
  }

  /* 禁用所有可能的闪动来源 */
  .btn * {
    transition: inherit !important;
    animation: none !important;
  }

  /* 特别处理ghost按钮 */
  .btn.btn-ghost,
  .btn.btn-ghost:hover,
  .btn.btn-ghost:focus,
  .btn.btn-ghost:active {
    box-shadow: none !important;
  }

  /* 完全禁用按钮的伪类可能导致的样式变化 */
  .btn:focus-within,
  .btn:target,
  .btn:visited {
    transform: none !important;
    animation: none !important;
  }

  /* 禁用任何可能的DaisyUI主题动画 */
  [data-theme] .btn,
  [data-theme="light"] .btn,
  [data-theme="dark"] .btn {
    animation: none !important;
    transform: none !important;
  }

  /* 彻底禁用按钮状态切换时的闪动 */
  .btn {
    will-change: auto !important;
    backface-visibility: hidden !important;
    -webkit-backface-visibility: hidden !important;
  }

  /* 确保所有按钮变体都没有闪动 */
  .btn-primary,
  .btn-secondary,
  .btn-success,
  .btn-warning,
  .btn-error,
  .btn-ghost,
  .btn-outline,
  .btn-sm,
  .btn-lg,
  .btn-xs {
    animation: none !important;
    transform: none !important;
    transition: background-color 0.15s ease, border-color 0.15s ease, color 0.15s ease !important;
  }

  /* 修复按钮状态切换时的视觉稳定性 */
  .btn:hover,
  .btn:focus,
  .btn:active {
    transform: none !important;
    animation: none !important;
  }
}
